<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Form Example</title>

    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/pure-min.css" />
    <link rel="icon" href="images/favicon.png" />
</head>

<body>
    <script src="js/jquery-3.4.1.min.js"></script>
    <div class="pure-g">
        <div class="pure-u-1-3"></div>
        <div class="pure-u-1-3">
            <form class="pure-form pure-form-stacked" id='login'>
                <fieldset>
                    <legend>Legend</legend>

                    <div class="pure-g">


                        <div class="pure-u-1 pure-u-md-1-3">
                            <label for="email">E-Mail</label>
                            <input id="email" class="pure-u-23-24" type="email" value="tom@gmail.com">
                        </div>

                        <div class="pure-u-1 pure-u-md-1-3">
                            <label for="password">Password</label>
                            <input id="password" class="pure-u-23-24" type="password">
                        </div>
                    </div>

                    <button type="submit" class="pure-button pure-button-primary">Submit</button>
                </fieldset>
            </form>
        </div>
        <div class="pure-u-1-3"></div>
    </div>
</body>
<script>
    $(function () {
        $('body').prepend('<h3>Login Form</h3>');
        $('body').prepend('<h1>Lesson 07</h1>');

        $("#login").submit(function (event) {
            event.preventDefault();

            // form.serialize
            var form_data = {
                'route':'login',
                'email': $('#email').val(),
                'password': $('#password').val()
            }


            $.post("api.php", form_data)
                .done(function (data) {
                    console.log(data);
                });
        });

    });

    function loadForm(form) {
        console.log(form);
    }

    function loadStates(data) {
        // Remove any html within the dom element (clear it out)
        $("#state").html("");

        // Loop through the result
        data.forEach(function (state, index) {
            console.log(state); // The element

            // Append an "option" tag within the select element
            // The `value` attribute is the value that gets sent back with the form if that option
            // is selected:
            $("#state").append('<option value="' + state.abbreviation + '">' + state.name + '</option>');
        });

    }
</script>

</html>
